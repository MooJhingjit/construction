webpackJsonp([29],{mzps:function(t,a){},"zbB/":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("ujS/"),i=e("ikD4"),c=e("kVPM"),n=e("7x59"),r={props:{},components:{breadcrumbBar:s.a,myAction:n.a},name:"WorkOrderPage",data:function(){return{local:{pageObj:{items:[{name:"ลำดับการทำงาน",route:"Workorder",key:"",active:!0,icon:"fa fa-tasks"}],template:{class:"work-order-page"}},workOrderObj:{}}}},computed:{},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,a=""+c.a.api.workOrder.index,e=this.BUILDPARAM();i.a.getResource({resourceName:a,queryString:e}).then(function(a){200===a.status&&(t.local.workOrderObj=a.data)}).catch(function(){})},addItem:function(){var t=this,a=""+c.a.api.workOrder.index;i.a.postResource({data:{},resourceName:a}).then(function(a){200===a.status&&t.GOTOPAGE("EditWorkorder",a.data.time)}).catch(function(t){console.log(t)})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{class:["section",t.local.pageObj.template.class]},[e("breadcrumb-bar",{attrs:{dataObj:t.local.pageObj}}),t._v(" "),e("div",{staticClass:"container-block"},[e("div",{staticClass:"detail-panel"},[[e("div",{staticClass:"container-block  detail-block"},[e("div",{staticClass:"c-header container-block block"}),t._v(" "),e("div",{staticClass:"c-body"},[e("div",{staticClass:"items"},[e("table",{staticClass:"table rows-table is-hoverable"},[t._m(0),t._v(" "),e("tbody",t._l(t.local.workOrderObj,function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(a.time))]),t._v(" "),e("td",t._l(a.tasks,function(a,s){return e("div",{key:s,staticClass:"list"},[t._v(t._s(a.name))])})),t._v(" "),e("td",t._l(a.tasks,function(a,s){return e("div",{key:s,staticClass:"list"},[t._v(t._s(a.material_group_name))])})),t._v(" "),e("td",[e("button",{staticClass:"button is-outlined",on:{click:function(e){t.GOTOPAGE("EditWorkorder",a.time)}}},[t._v("แก้ไขงวดที่ "+t._s(a.time))])])])}))]),t._v(" "),t.local.workOrderObj.length<10?e("div",{staticClass:"container-block footer-panel"},[e("my-action",{attrs:{type:"update",obj:{title:"เพิ่มงวด"}},on:{clickEvent:function(a){t.addItem()}}})],1):t._e()])])])]],2)])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("thead",[a("tr",[a("th",[this._v("งวด")]),this._v(" "),a("th",[this._v("รายละเอียดงาน")]),this._v(" "),a("th",[this._v("กลุ่มวัสดุจัดซื้อ")]),this._v(" "),a("th")])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-block empty-panel"},[e("div",{staticClass:"block container-block"},[e("div",{staticClass:"block no-data"},[t._v("\n                ไม่พบข้อมูลที่ต้องการ\n            ")]),t._v(" "),e("div",{staticClass:"block select-data"},[e("i",{staticClass:"fa fa-hand-o-left",attrs:{"aria-hidden":"true"}}),t._v(" "),e("span",[t._v("เลือกข้อมูลทางซ้ายมือเพื่อแสดง")])]),t._v(" "),e("div",{staticClass:"block or"},[t._v("\n              หรือ\n            ")]),t._v(" "),e("div",{staticClass:"block add-data"},[e("button",{staticClass:"button"},[t._v("เพิ่มข้อมูลใหม่")])])])])}]};var l=e("VU/8")(r,o,!1,function(t){e("mzps")},null,null);a.default=l.exports}});
//# sourceMappingURL=29.589d03d574502f45b1bb.js.map