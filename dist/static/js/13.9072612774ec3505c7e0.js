webpackJsonp([13],{nug2:function(t,e){},w0sy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c=a("ujS/"),n=a("O/8C"),s=a("ikD4"),o=a("kVPM"),i=a("Tdo9"),r=a("STNA"),l={props:{},components:{breadcrumbBar:c.a,optionDetailTemplate:n.a,myAutoComplete:i.a,contractSerach:r.a},name:"FrontSitePage",data:function(){return{local:{pageObj:{items:[{name:"ไชต์งานหลัก",route:"FrontSite",key:"",active:!0,icon:"fa fa-home"}]},contracts:[],contractsTemp:[],contractSelection:{inputs:[],selected:null}}}},computed:{},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e=o.a.api.frontSite.index;s.a.getResource({resourceName:e,queryString:[]}).then(function(e){200===e.status&&(t.local.contractsTemp=e.data,t.prepareSearch())}).catch(function(t){console.log(t)})},prepareSearch:function(){this.local.contractSelection.inputs=this.local.contractsTemp.map(function(t){return{code:t.code,project_id:t.project_id,project_name:t.project.name,plan:t.plan,house_id:t.house_id}})},contractSelectedHandle:function(t){null===t?this.local.contracts=[]:(this.local.contractSelection.selected=t.code,this.local.contracts=this.local.contractsTemp.filter(function(e){return e.code===t.code}))},getStatusClass:function(t){return["tag",{"is-warning":"wait"===t},{"is-info":"confirmed"===t},{"is-success":"received"===t}]}}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section front-site-page"},[a("breadcrumb-bar",{attrs:{dataObj:t.local.pageObj}}),t._v(" "),a("div",{staticClass:"container-block"},[a("div",{staticClass:"search"},[a("contract-serach",{attrs:{dataObj:t.local.contractSelection.inputs},on:{select:t.contractSelectedHandle}})],1),t._v(" "),t._l(t.local.contracts,function(e,c){return a("article",{key:c,staticClass:"tile is-child notification"},[a("div",{staticClass:"project-name"},[t._v(t._s(e.project.name))]),t._v(" "),a("div",{staticClass:"project-detail container-block"},[a("div",{staticClass:"block"},[t._v("เลขที่สัญญา: "+t._s(e.code))]),t._v(" "),a("div",{staticClass:"block"},[t._v("แบบบ้าน: "+t._s(e.house_id)+"("+t._s(e.plan)+")")])]),t._v(" "),a("div",{staticClass:"next-task"},[a("table",{staticClass:"table is-narrow"},[t._m(0,!0),t._v(" "),a("tbody",t._l(e.ordering,function(e,c){return a("tr",{key:c},[a("td",[t._v(t._s(e.storeType))]),t._v(" "),a("td",[t._v(t._s(e.amount))]),t._v(" "),a("td",[a("span",{class:t.getStatusClass(e.status)},[t._v(t._s(t.GET_STATUSNAME(e.status)))])])])}))])]),t._v(" "),a("div",{staticClass:"actions container-block"},[a("button",{staticClass:"button is-info block",on:{click:function(a){t.GOTOPAGE("FrontSiteUpdate",e.code)}}},[t._v("สถานะงาน")])])])})],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("th",[this._v("รายการสั่งซื้อ")]),this._v(" "),e("th",[this._v("จำนวน")]),this._v(" "),e("th",[this._v("สถานะ")])])}]};var d=a("VU/8")(l,u,!1,function(t){a("nug2")},"data-v-770ef381",null);e.default=d.exports}});
//# sourceMappingURL=13.9072612774ec3505c7e0.js.map