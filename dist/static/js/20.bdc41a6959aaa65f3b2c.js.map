{"version":3,"sources":["webpack:///src/Pages/Login/index.vue","webpack:///./src/Pages/Login/index.vue?43a9","webpack:///./src/Pages/Login/index.vue"],"names":["Login","methods","extends_default","Object","vuex_esm","login","_this","this","validateAll","username","password","data","token","getUserData","_this2","resource","queryString","userData","REDIRECTTOHOME","Pages_Login","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","_s","errors","has","local","inValid","directives","name","rawName","value","expression","attrs","type","placeholder","domProps","on","input","$event","target","composing","$set","click","submit","staticRenderFns","aria-hidden","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/20.bdc41a6959aaa65f3b2c.js","sourcesContent":["<template>\n  <section class=\"section login-page\">\n    <div class=\"container-block\">\n      <div class=\"block container-block\">\n        <div class=\"block header\">\n          <h1 class=\"title is-1\">บริษัท โชคชนายุทธ จำกัด</h1>\n        </div>\n        <div class=\"block container-block login-form\">\n          <div class=\"input-form block\">\n            <span class=\"alert\">{{ errors.has('username') || local.inValid ? 'โปรดตรวจสอบข้อมูลข้างต้น' : '' }}</span>\n            <div class=\"control has-icons-left\">\n              <input class=\"input\" name=\"username\" v-validate=\"'required'\"  v-model=\"local.username\" type=\"text\" placeholder=\"ชื่อผู้ใช้\">\n              <span class=\"icon is-small is-left\">\n                <i class=\"fa fa-user\" aria-hidden=\"true\"></i>\n              </span>\n            </div>\n            <span class=\"alert\">{{ errors.has('password') || local.inValid ? 'โปรดตรวจสอบข้อมูลข้างต้น' : '' }}</span>\n            <div class=\"control has-icons-left\">\n              <input class=\"input\" name=\"password\" v-validate=\"'required'\" v-model=\"local.password\" type=\"password\" placeholder=\"รหัสผ่าน\">\n              <span class=\"icon is-small is-left\">\n                <i class=\"fa fa-key\" aria-hidden=\"true\"></i>\n              </span>\n            </div>\n          </div>\n          <div class=\"block submit\">\n            <button class=\"button\" @click=\"submit()\">เข้าสู่ระบบ</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport service from '@Services/app-service'\nimport config from '@Config/app.config'\n// import Helper from '@Libraries/common.helpers'\nimport { mapActions } from 'vuex'\nexport default {\n  props: {\n    // templateName: {\n    //   type: String,\n    //   required: true\n    // }\n  },\n  components: {\n  },\n  name: 'LoginPage',\n  data () {\n    return {\n      local: {\n        username: null,\n        password: null,\n        inValid: false\n      }\n    }\n  },\n  methods: {\n    ...mapActions([\n      'setUserData'\n    ]),\n    submit () {\n      this.login()\n    },\n    async login () {\n      let isValid = await this.$validator.validateAll()\n      if (!isValid) return\n      let resourceName = config.api.login\n      let data = {\n        username: this.local.username,\n        password: this.local.password\n      }\n      try {\n        let res = await service.postResource({resourceName, data})\n        this.SETAUTH(res.data.token)\n        this.getUserData()\n      } catch (error) {\n        this.local.inValid = true\n      }\n    },\n    async getUserData () {\n      let resourceName = config.api.app.resource\n      let queryString = this.BUILDPARAM([])\n      let res = await service.getResource({resourceName, queryString})\n      if (res.status === 200) {\n        this.setUserData(res.data.userData)\n        this.SERUSERDATA(res.data.userData)\n        this.REDIRECTTOHOME()\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.control{\n  margin-bottom: 20px !important;\n}\n.alert{\n  color: #d48383;\n  font-size: 0.8em;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/Pages/Login/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section login-page\"},[_c('div',{staticClass:\"container-block\"},[_c('div',{staticClass:\"block container-block\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"block container-block login-form\"},[_c('div',{staticClass:\"input-form block\"},[_c('span',{staticClass:\"alert\"},[_vm._v(_vm._s(_vm.errors.has('username') || _vm.local.inValid ? 'โปรดตรวจสอบข้อมูลข้างต้น' : ''))]),_vm._v(\" \"),_c('div',{staticClass:\"control has-icons-left\"},[_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.local.username),expression:\"local.username\"}],staticClass:\"input\",attrs:{\"name\":\"username\",\"type\":\"text\",\"placeholder\":\"ชื่อผู้ใช้\"},domProps:{\"value\":(_vm.local.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.local, \"username\", $event.target.value)}}}),_vm._v(\" \"),_vm._m(1)]),_vm._v(\" \"),_c('span',{staticClass:\"alert\"},[_vm._v(_vm._s(_vm.errors.has('password') || _vm.local.inValid ? 'โปรดตรวจสอบข้อมูลข้างต้น' : ''))]),_vm._v(\" \"),_c('div',{staticClass:\"control has-icons-left\"},[_c('input',{directives:[{name:\"validate\",rawName:\"v-validate\",value:('required'),expression:\"'required'\"},{name:\"model\",rawName:\"v-model\",value:(_vm.local.password),expression:\"local.password\"}],staticClass:\"input\",attrs:{\"name\":\"password\",\"type\":\"password\",\"placeholder\":\"รหัสผ่าน\"},domProps:{\"value\":(_vm.local.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.local, \"password\", $event.target.value)}}}),_vm._v(\" \"),_vm._m(2)])]),_vm._v(\" \"),_c('div',{staticClass:\"block submit\"},[_c('button',{staticClass:\"button\",on:{\"click\":function($event){_vm.submit()}}},[_vm._v(\"เข้าสู่ระบบ\")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"block header\"},[_c('h1',{staticClass:\"title is-1\"},[_vm._v(\"บริษัท โชคชนายุทธ จำกัด\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fa fa-user\",attrs:{\"aria-hidden\":\"true\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon is-small is-left\"},[_c('i',{staticClass:\"fa fa-key\",attrs:{\"aria-hidden\":\"true\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5f9a5814\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/Pages/Login/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5f9a5814\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5f9a5814\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5f9a5814\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/Pages/Login/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}