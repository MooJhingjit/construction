webpackJsonp([19],{sjQS:function(t,e){},w0sy:function(t,e,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=c("ujS/"),n=c("O/8C"),s=c("ikD4"),o=c("kVPM"),i=c("Tdo9"),r=c("STNA"),l={props:{},components:{breadcrumbBar:a.a,optionDetailTemplate:n.a,myAutoComplete:i.a,contractSerach:r.a},name:"FrontSitePage",data:function(){return{local:{pageObj:{items:[{name:"ไชต์งานหลัก",route:"FrontSite",key:"",active:!0,icon:"fa fa-home"}]},contracts:[],contractsTemp:[],contractSelection:{inputs:[],selected:null}}}},computed:{},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e=o.a.api.frontSite.index;s.a.getResource({resourceName:e,queryString:[]}).then(function(e){200===e.status&&(t.local.contractsTemp=e.data,t.prepareSearch())}).catch(function(t){console.log(t)})},prepareSearch:function(){this.local.contractSelection.inputs=this.local.contractsTemp.map(function(t){return{code:t.code,project_id:t.project_id,project_name:t.project.name,plan:t.plan,house_id:t.house_id}})},contractSelectedHandle:function(t){null===t?this.local.contracts=[]:(this.local.contractSelection.selected=t.code,this.local.contracts=this.local.contractsTemp.filter(function(e){return e.code===t.code}))},getStatusClass:function(t){return["tag",{"is-warning":"wait"===t},{"is-info":"confirmed"===t},{"is-success":"received"===t}]}}},u={render:function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("section",{staticClass:"section front-site-page"},[c("breadcrumb-bar",{attrs:{dataObj:t.local.pageObj}}),t._v(" "),c("div",{staticClass:"container-block"},[c("div",{staticClass:"search"},[c("contract-serach",{attrs:{dataObj:t.local.contractSelection.inputs},on:{select:t.contractSelectedHandle}})],1),t._v(" "),t._l(t.local.contracts,function(e,a){return c("article",{key:a,staticClass:"tile is-child notification"},[c("div",{staticClass:"project-name"},[t._v(t._s(e.project.name))]),t._v(" "),c("div",{staticClass:"project-detail container-block"},[c("div",{staticClass:"block"},[t._v("เลขที่สัญญา: "+t._s(e.code))]),t._v(" "),c("div",{staticClass:"block"},[t._v("แบบบ้าน: "+t._s(e.house_id)+"("+t._s(e.plan)+")")])]),t._v(" "),c("div",{staticClass:"next-task"},[c("table",{staticClass:"table is-narrow"},[t._m(0,!0),t._v(" "),c("tbody",t._l(e.ordering,function(e,a){return c("tr",{key:a},[c("td",[t._v(t._s(e.storeType))]),t._v(" "),c("td",[t._v(t._s(e.amount))]),t._v(" "),c("td",[c("span",{class:t.getStatusClass(e.status)},[t._v(t._s(t.GET_STATUSNAME(e.status)))])])])}))])]),t._v(" "),c("div",{staticClass:"actions container-block"},[c("button",{staticClass:"button is-info block",on:{click:function(c){t.GOTOPAGE("FrontSiteUpdate",e.id)}}},[t._v("สถานะงาน")]),t._v(" "),c("button",{staticClass:"button is-warning block",on:{click:function(c){t.GOTOPAGE("FrontSiteVerify",e.id)}}},[t._v("ตรวจสอบงวดงาน")])])])})],2)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("th",[this._v("รายการสั่งซื้อ")]),this._v(" "),e("th",[this._v("จำนวน")]),this._v(" "),e("th",[this._v("สถานะ")])])}]};var d=c("VU/8")(l,u,!1,function(t){c("sjQS")},"data-v-6e436b1c",null);e.default=d.exports}});
//# sourceMappingURL=19.12a0fb9c2a05bb7b0c44.js.map