webpackJsonp([9],{XzTQ:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),n=a.n(i),s=a("exGp"),l=a.n(s),r=a("ujS/"),c={props:{templateObj:{type:Object,required:!0}},components:{},name:"detailTemplate",data:function(){return{}},computed:{},created:function(){},methods:{},watch:{}},o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("section",{class:["section",this.templateObj.class]},[this._t("title"),this._v(" "),e("div",{staticClass:"container-block"},[e("div",{staticClass:"detail-panel"},[this._t("detail")],2)])],2)},staticRenderFns:[]};var u=a("VU/8")(c,o,!1,function(t){a("m2jg")},null,null).exports,d=a("ikD4"),p=a("kVPM"),v=a("7Dwl"),m=a("7x59"),f={props:{},components:{breadcrumbBar:r.a,detailTemplate:u,myInput:v.a,myAction:m.a},name:"ProfilePage",data:function(){return{local:{pageObj:{items:[{name:"ข้อมูลผู้ใช้",route:"Profile",key:"",active:!0,icon:"fa fa-address-book-o"}]},template:{class:"user-page"},inputs:{}},server:{}}},computed:{resourceName:function(){return p.a.api.users.index}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this,e=p.a.api.users.index+"/profile";d.a.getResource({resourceName:e,queryString:[]}).then(function(e){200===e.status&&(t.local.inputs=e.data)}).catch(function(){})},submitForm:function(t){var e=this;return l()(n.a.mark(function a(){var i,s,l,r;return n.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$validator.validateAll();case 2:i=a.sent,s=e.resourceName,l={},r=null,a.t0=t,a.next="update"===a.t0?9:17;break;case 9:if(i){a.next=11;break}return a.abrupt("return");case 11:return l=e.local.inputs,s=s+"/"+e.local.inputs.id,a.next=15,d.a.putResource({data:l,resourceName:s});case 15:return r=a.sent,a.abrupt("break",17);case 17:if(200!==r.status){a.next=21;break}return e.fetchData(),e.NOTIFY("success"),a.abrupt("return");case 21:e.NOTIFY("error");case 22:case"end":return a.stop()}},a,e)}))()}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("detail-template",{attrs:{templateObj:t.local.template}},[a("template",{slot:"title"},[a("breadcrumb-bar",{attrs:{dataObj:t.local.pageObj}})],1),t._v(" "),a("template",{slot:"function"}),t._v(" "),a("template",{slot:"detail"},[a("div",{staticClass:"container-block  detail-block"},[a("div",{staticClass:"form-detail"},[a("div",{staticClass:"container-block"},[a("div",{staticClass:"text-title"},[t._v("ชื่อ-นามสกุล")]),t._v(" "),a("div",{staticClass:"value"},[a("my-input",{attrs:{value:t.local.inputs.name,inputObj:{type:"text",name:"store_name",placeholder:"ชื่อ-นามสกุล",validate:"required"},validator:t.$validator},on:{input:function(e){t.local.inputs.name=e}}})],1)]),t._v(" "),a("div",{staticClass:"container-block"},[a("div",{staticClass:"text-title"},[t._v("ชื่อผู้ใช้")]),t._v(" "),a("div",{staticClass:"value"},[a("my-input",{attrs:{value:t.local.inputs.username,inputObj:{type:"text",name:"store_username",placeholder:"ชื่อผู้ใช้",validate:"required"},validator:t.$validator},on:{input:function(e){t.local.inputs.username=e}}})],1)]),t._v(" "),a("div",{staticClass:"container-block"},[a("div",{staticClass:"text-title"},[t._v("อีเมล์")]),t._v(" "),a("div",{staticClass:"value"},[a("my-input",{attrs:{value:t.local.inputs.email,inputObj:{type:"text",name:"store_email",placeholder:"อีเมล์",validate:"required"},validator:t.$validator},on:{input:function(e){t.local.inputs.email=e}}})],1)]),t._v(" "),a("div",{staticClass:"container-block"},[a("div",{staticClass:"text-title"},[t._v("เบอร์โทรศัพท์")]),t._v(" "),a("div",{staticClass:"value"},[a("my-input",{attrs:{value:t.local.inputs.phone,inputObj:{type:"text",name:"store_phone",placeholder:"เบอร์โทรศัพท์",validate:"required"},validator:t.$validator},on:{input:function(e){t.local.inputs.phone=e}}})],1)]),t._v(" "),a("div",{staticClass:"container-block"},[a("div",{staticClass:"text-title"},[t._v("ที่อยู่")]),t._v(" "),a("div",{staticClass:"value"},[a("my-input",{attrs:{value:t.local.inputs.address,inputObj:{type:"textarea",name:"store_address",placeholder:"ที่อยู่",validate:"required"},validator:t.$validator},on:{input:function(e){t.local.inputs.address=e}}})],1)])])]),t._v(" "),a("div",{staticClass:"container-block footer-panel"},[a("my-action",{attrs:{type:"update",obj:{title:"บันทึกข้อมูล"}},on:{clickEvent:function(e){t.submitForm("update")}}})],1)])],2)},staticRenderFns:[]};var _=a("VU/8")(f,b,!1,function(t){a("ZJ7M")},null,null);e.default=_.exports},ZJ7M:function(t,e){},m2jg:function(t,e){}});
//# sourceMappingURL=9.9d51f686110d018302f9.js.map