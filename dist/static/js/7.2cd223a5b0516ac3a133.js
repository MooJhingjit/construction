webpackJsonp([7],{"3N9c":function(t,e,a){"use strict";var i=a("3htv"),s={props:{headerObj:{type:Object,required:!0},dataObj:{type:Array,required:!0}},components:{},name:"worksheetTemplate",data:function(){return{local:{headerObj:{},dataObj:null}}},computed:{today:function(){return i.a.GET_DATETHAI("now")},technician:function(){return this.local.dataObj.length?this.local.dataObj[0].technician_name:""},approvedData:function(){return i.a.GET_DATETHAI(this.local.dataObj[0].updated_at)}},created:function(){this.local.dataObj=this.dataObj,this.summaryData()},methods:{getHtm:function(){return this.$refs.worksheet},printWorkSheet:function(){var t=this.getHtm(),e=window.open("","Title","toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=1200,height=500,top=0,left=0"),a=document.createElement("style");a.type="text/css";var i="@media print {@page { size: landscape; margin: 0; }body { margin: 0.5cm 0.2cm; }}";a.styleSheet?a.styleSheet.cssText=i:a.appendChild(document.createTextNode(i)),e.document.getElementsByTagName("head")[0].appendChild(a),e.document.body.innerHTML=t.innerHTML,e.focus(),e.print()},summaryData:function(t){var e={price:0,reducePrice:0,totalPrice:0};return this.local.dataObj.map(function(t){e.price+=parseFloat(t.total_price)}),e.reducePrice=3*parseFloat(e.price)/100,e.totalPrice=parseFloat(e.price)-parseFloat(e.reducePrice),e[t]}},watch:{dataObj:function(){this.local.dataObj=this.dataObj}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"worksheet",staticClass:"worksheet"},[t.local.dataObj.length>0?a("table",{staticStyle:{border:"none"},attrs:{width:"100%"}},[t._m(0),t._v(" "),a("tbody",{staticClass:"border"},[a("tr",[a("td",[a("table",{staticStyle:{border:"none"},attrs:{width:"100%"}},[a("tr",[a("td",{staticClass:"text-center",staticStyle:{"text-align":"center"},attrs:{width:"50%"}},[a("p",{staticStyle:{"font-size":"11px"}},[t._v("ผู้ส่งงาน: "+t._s(t.technician))])]),t._v(" "),a("td",{staticClass:"text-center",staticStyle:{"text-align":"center"},attrs:{width:"50%"}},[a("p",{staticStyle:{"font-size":"11px"}},[t._v("โครงการ: "+t._s(t.headerObj.project))]),t._v(" "),a("p",{staticStyle:{"font-size":"11px"}},[t._v("วันที่: "+t._s(t.today))])])])])])]),t._v(" "),a("tr",[a("td",[a("table",{staticClass:"main-table",staticStyle:{border:"none","font-size":"11px","border-collapse":"collapse"},attrs:{width:"100%"}},[t._m(1),t._v(" "),a("tbody",{staticStyle:{"font-size":"12px"}},[t._l(t.local.dataObj,function(e,i){return a("tr",{key:i},[a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v(t._s(i+1))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v(t._s(e.plan))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v(t._s(e.house_id))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v(t._s(e.work_group_name))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("งวดที่ "+t._s(e.time))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"left"}},[t._v(t._s(e.name))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v(t._s(e.amount))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v(t._s(e.unit))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"right"}},[t._v(t._s(t.NUMBERWITHCOMMAS(e.price,2)))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"right"}},[t._v(t._s(t.NUMBERWITHCOMMAS(e.total_price,2)))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v(t._s(e.note))])])}),t._v(" "),a("tr",[a("td",{staticClass:"text-center",staticStyle:{"text-align":"right","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"8"}},[t._v("รวมเงินที่อนุมัติจ่าย")]),t._v(" "),a("td",{staticClass:"text-right",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"2"}},[t._v(t._s(t.NUMBERWITHCOMMAS(t.summaryData("price"),2)))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}})]),t._v(" "),a("tr",[a("td",{staticClass:"text-center",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"8"}},[t._v("หัก 3%")]),t._v(" "),a("td",{staticClass:"text-right",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"2"}},[t._v(t._s(t.NUMBERWITHCOMMAS(t.summaryData("reducePrice"),2)))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}})]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("tr",[a("td",{staticClass:"text-center",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"8"}},[t._v("รวมยอดเงินที่ได้รับทั้งหมด")]),t._v(" "),a("td",{staticClass:"text-right",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"2"}},[t._v(t._s(t.NUMBERWITHCOMMAS(t.summaryData("totalPrice"),2)))]),t._v(" "),a("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}})])],2)])])])]),t._v(" "),a("tfoot",[a("tr",[a("td",[a("table",{staticClass:"main-table signature",staticStyle:{border:"none","font-size":"11px","border-collapse":"collapse","margin-top":"20px"},attrs:{width:"100%"}},[a("tr",[t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),a("td",{staticStyle:{border:"none !important",padding:"5px","text-align":"center"}},[a("p",[t._v("......................................................")]),t._v(" "),a("p",[t._v("ผู้อนุมัติจ่าย")]),t._v(" "),a("p",[t._v("วันที่ "+t._s(t.approvedData))])])])])])])])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticStyle:{"font-size":"13px"}},[e("tr",[e("td",{staticClass:"text-center",staticStyle:{position:"relative","font-weight":"bold","text-align":"center"}},[e("h2",[this._v("บริษัท โชคชนายุทธ จำกัด")]),this._v(" "),e("p",[this._v("75/152ซอยร่มเกล้า1 ถนนร่มเกล้า แขวงแสนแสบ เขตมีนบุรี กรุงเทพฯ 10510")]),this._v(" "),e("p",[this._v("โทร.(02)328-7948 แฟ็กซ์(02)919-5298")]),this._v(" "),e("p",{staticClass:"id",staticStyle:{position:"absolute",top:"0",right:"0","font-size":"10px"}},[this._v("เลขที่ xxxxx")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticStyle:{"font-size":"13px"}},[a("tr",[a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"},attrs:{rowspan:"2"}},[t._v("ลำดับ")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"},attrs:{colspan:"5"}},[t._v("รายละเอียด")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"},attrs:{colspan:"2"}},[t._v("จำนวน")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"},attrs:{rowspan:"2"}},[t._v("ราคา/หน่วย")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"},attrs:{rowspan:"2"}},[t._v("รวม")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"},attrs:{width:"200",rowspan:"2"}},[t._v("หมายเหตุ")])]),t._v(" "),a("tr",[a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("แปลงที่")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("แบบบ้าน")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("หมวดงาน")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("งวดงาน")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("รายการ")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("ปริมาณ")]),t._v(" "),a("td",{staticStyle:{position:"relative","font-weight":"500","font-size":"12px",border:"1px solid #ccc",padding:"5px","text-align":"center"}},[t._v("หน่วย")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"text-center",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"8"}},[this._v("หักเงินเบิกสำรอง")]),this._v(" "),e("td",{staticClass:"text-right",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"2"}},[this._v("-")]),this._v(" "),e("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",{staticClass:"text-center",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"8"}},[this._v("หักค่าใช่จ่ายอื่นๆ")]),this._v(" "),e("td",{staticClass:"text-right",staticStyle:{"text-align":"right","font-weight":"bold","font-size":"11px",border:"1px solid #ccc",padding:"5px"},attrs:{colspan:"2"}},[this._v("-")]),this._v(" "),e("td",{staticStyle:{"font-size":"11px",border:"1px solid #ccc",padding:"5px","text-align":"center"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{border:"none !important",padding:"5px","text-align":"center"}},[e("p",[this._v("......................................................")]),this._v(" "),e("p",[this._v("เจ้าหน้าที่ควบคุมงาน")]),this._v(" "),e("p",[this._v("วันที่...................................................")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{border:"none !important",padding:"5px","text-align":"center"}},[e("p",[this._v("......................................................")]),this._v(" "),e("p",[this._v("Project Site")]),this._v(" "),e("p",[this._v("วันที่...................................................")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",{staticStyle:{border:"none !important",padding:"5px","text-align":"center"}},[e("p",[this._v("......................................................")]),this._v(" "),e("p",[this._v("การเงิน บัญชี")]),this._v(" "),e("p",[this._v("วันที่...................................................")])])}]};var n=a("VU/8")(s,l,!1,function(t){a("wNh9")},"data-v-16a91887",null);e.a=n.exports},CvIC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Xxa5"),s=a.n(i),l=a("exGp"),n=a.n(l),o=a("ujS/"),r=a("Tdo9"),c=a("7x59"),d=a("7Dwl"),p=a("uvJ5"),_=a("ikD4"),u=a("kVPM"),v=a("3N9c"),h={props:{},components:{breadcrumbBar:o.a,myAutoComplete:r.a,myAction:c.a,myInput:d.a,ModelPanel:p.a,worksheetTemplate:v.a},name:"ApprovePage",data:function(){return{local:{pageObj:{items:[{name:"จ่ายค่างวด",route:"PayingPeriod",key:"",active:!0,icon:"fa fa-exchange"},{name:"อนุมัติการจ่าย",route:"Approve",key:"",active:!0,icon:""}],template:{class:"work-sheet-page"}},modelData:null,project:{selected:null,value:null},dataObj:[],worksheet:{header:{},data:[]},yearSelection:{inputs:[],selected:null},monthSelection:{inputs:[],selected:null}}}},computed:{itemLists:function(){var t=this,e=this.local.dataObj;return null!==this.local.yearSelection.selected&&(e=e.map(function(e){return e.filter(function(e){return e.dateSelection.year===t.local.yearSelection.selected})})),null!==this.local.monthSelection.selected&&(e=e.map(function(e){return e.filter(function(e){return e.dateSelection.month===t.local.monthSelection.selected})})),e=e.filter(function(t){return t.length})}},created:function(){},methods:{fetchData:function(){var t=this;return n()(s.a.mark(function e(){var a,i,l,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.BUILDPARAM({project:t.local.project.selected}),e.next=3,_.a.getResource({resourceName:u.a.api.workSheet.index+"/approval",queryString:a});case 3:i=e.sent,t.local.dataObj=i.data,l=[],n=[],t.local.dataObj.map(function(e){e.map(function(e,a){e.realOrder=a;var i=t.EXTRACT_DATE(e.updated_at,"Y"),s=t.EXTRACT_DATE(e.updated_at,"M");e.dateSelection={year:i,month:s},l.push({key:i,value:i}),n.push({key:s,value:s}),t.local.yearSelection.inputs=t.REMOVEDUPLICATES(l,"key"),t.local.monthSelection.inputs=t.REMOVEDUPLICATES(n,"key")})});case 8:case"end":return e.stop()}},e,t)}))()},projectSelectedHandle:function(t){this.local.project.selected=t.key,this.local.project.value=t.value,this.fetchData()},showDetail:function(t,e,a){this.$refs.modelPanel.isActive=!0,this.local.modelData=t,this.local.modelData.index=e,this.local.modelData.listIndex=a},submit:function(t,e,a){var i=this,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n()(s.a.mark(function n(){var o,r;return s.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return e.status="5","reject"===t&&(e.status="4"),o={item:e,updateType:"update-status"},r=u.a.api.workSheet.index+"/"+e.id,s.next=6,_.a.putResource({data:o,resourceName:r});case 6:i.setItemAfterUpdated(e,a,e.status,l),i.NOTIFY("success");case 8:case"end":return s.stop()}},n,i)}))()},setItemAfterUpdated:function(t,e,a,i){this.local.dataObj[e].map(function(e){t.id===e.id&&(e.status=a)}),i&&(this.local.modelData.status=a)},getClass:function(t){return[{extra:t.is_extra}]},updateData:function(t,e,a,i){var s=0,l=this.local.dataObj[a][i];switch(e){case"amount":s=l.price*t,this.local.dataObj[a][i].total_price=s;break;case"price":s=t*l.amount,this.local.dataObj[a][i].total_price=s}this.local.dataObj[a][i][e]=t},printWorkSheet:function(t){this.local.worksheet.header={project:this.local.project.value},this.local.worksheet.data=t,this.$refs.worksheetTemplate.local.dataObj.length>0&&this.$refs.worksheetTemplate.printWorkSheet()},filterYear:function(t){this.local.yearSelection.selected=t.key},filterMonth:function(t){this.local.monthSelection.selected=t.key}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{class:["section",t.local.pageObj.template.class]},[a("breadcrumb-bar",{attrs:{dataObj:t.local.pageObj}}),t._v(" "),a("div",{staticClass:"container-block"},[a("div",{staticClass:"detail-panel"},[a("div",{staticClass:"container-block  detail-block"},[a("div",{staticClass:"container-block block c-header"},[a("div",{staticClass:"block"},[a("my-auto-complete",{attrs:{arrInputs:"project",config:{getNullVal:!1},placeholder:"ค้นหาโครงการ",label:""},on:{select:t.projectSelectedHandle}})],1),t._v(" "),a("div",{staticClass:"block"},[null!==t.local.project.selected?a("my-auto-complete",{attrs:{arrInputs:t.local.yearSelection.inputs,config:{getNullVal:!0},placeholder:"ระบุปี",label:""},on:{select:t.filterYear}}):t._e()],1),t._v(" "),a("div",{staticClass:"block"},[null!==t.local.yearSelection.selected&&null!==t.local.project.selected?a("my-auto-complete",{attrs:{arrInputs:t.local.monthSelection.inputs,config:{getNullVal:!0},placeholder:"ระบุเดือน",label:""},on:{select:t.filterMonth}}):t._e()],1)]),t._v(" "),a("div",{staticClass:"block c-body"},[a("table",{staticClass:"table rows-table is-hoverable"},[t._m(0),t._v(" "),a("tbody",t._l(t.itemLists,function(e,i){return a("tr",{key:i},[a("td",{staticClass:"td order-8"},[a("p",[t._v(t._s(e[0].technician_name))]),t._v(" "),a("i",{staticClass:"fa fa-print",attrs:{"aria-hidden":"true"},on:{click:function(a){t.printWorkSheet(e)}}})]),t._v(" "),a("td",{staticClass:"td order-6"},t._l(e,function(e,i){return a("div",{key:"plan_"+i,class:[{"item-list":!0,"has-input":e.is_extra}]},[a("p",{class:t.getClass(e)},[t._v(t._s(e.plan))])])})),t._v(" "),a("td",{staticClass:"td order-5"},t._l(e,function(e,i){return a("div",{key:"group_name_"+i,class:[{"item-list":!0,"has-input":e.is_extra}]},[a("p",{class:t.getClass(e)},[t._v(t._s(e.work_group_name))])])})),t._v(" "),a("td",{staticClass:"td order-4"},t._l(e,function(e,i){return a("div",{key:"name_"+i,class:[{"item-list":!0,"has-input":e.is_extra}]},[a("p",{class:t.getClass(e)},[t._v(t._s(e.time)+" / "+t._s(e.name))])])})),t._v(" "),a("td",{staticClass:"td order-3"},t._l(e,function(i,s){return a("div",{key:"amount_"+s,class:[{"item-list":!0,"has-input":i.is_extra}]},[i.is_extra&&"3"===i.status?[a("my-input",{attrs:{value:i.amount,validator:t.$validator,inputObj:{type:"text",name:"amount"+s,placeholder:"",validate:"required"}},on:{input:function(a){return t.updateData(a,"amount",e.realOrder,s)}}})]:a("p",{class:t.getClass(i)},[t._v(t._s(i.amount)+" "+t._s(i.unit))])],2)})),t._v(" "),a("td",{staticClass:"td order-2"},t._l(e,function(i,s){return a("div",{key:"price_"+s,class:[{"item-list":!0,"has-input":i.is_extra}]},[i.is_extra&&"3"===i.status?[a("my-input",{attrs:{value:i.price,validator:t.$validator,inputObj:{type:"text",name:"price"+s,placeholder:"",validate:"required"}},on:{input:function(a){return t.updateData(a,"price",e.realOrder,s)}}})]:a("p",{class:t.getClass(i)},[t._v(t._s(t.NUMBERWITHCOMMAS(i.price,2))+" บาท")])],2)})),t._v(" "),a("td",{staticClass:"td order-1"},t._l(e,function(i,s){return a("div",{key:"total_price_"+s,class:[{"item-list":!0,"has-input":i.is_extra}]},[i.is_extra&&"3"===i.status?[a("my-input",{attrs:{value:i.total_price,validator:t.$validator,inputObj:{type:"text",name:"total_price"+s,placeholder:"",validate:"required"}},on:{input:function(a){return t.updateData(a,"total_price",e.realOrder,s)}}})]:a("p",{key:"total_price_"+s,class:t.getClass(i)},[t._v(t._s(t.NUMBERWITHCOMMAS(i.total_price,2))+" บาท")])],2)})),t._v(" "),a("td",{staticClass:"td order-7"},t._l(e,function(e,i){return a("div",{key:"created_at_"+i,class:[{"item-list":!0,"has-input":e.is_extra}]},[a("p",{class:t.getClass(e)},[t._v(t._s(t.SET_DATEFORMAT(e.updated_at)))])])})),t._v(" "),a("td",{staticClass:"td order-7"},t._l(e,function(i,s){return a("div",{key:"action_"+s,class:[{"item-list":!0,"has-input":i.is_extra}]},["4"===i.status||"5"===i.status?["4"===i.status?a("p",{staticClass:"tag is-danger"},[t._v("ไม่ผ่าน")]):t._e(),t._v(" "),"5"===i.status?a("p",{staticClass:"tag is-success"},[t._v("จ่ายแล้ว")]):t._e()]:[a("my-action",{attrs:{type:"null",obj:{title:"จ่ายเงิน",color:"is-warning",isConfirm:!0}},on:{clickEvent:function(a){t.submit("approve",i,e.realOrder)}}}),t._v(" "),a("my-action",{attrs:{type:"null",obj:{title:"ไม่ผ่าน",color:"is-danger",isConfirm:!0}},on:{clickEvent:function(a){t.submit("reject",i,e.realOrder)}}})]],2)})),t._v(" "),a("td",{staticClass:"td order-9"},t._l(e,function(i,s){return a("p",{key:"detail_"+s,staticClass:"tag is-gray",on:{click:function(a){t.showDetail(i,e.realOrder,s)}}},[t._v("รายละเอียด")])}))])}))])])])])]),t._v(" "),a("model-panel",{ref:"modelPanel"},[null!=t.local.modelData?a("div",{staticClass:"model"},[a("div",[t._v("ชื่อช่าง: "),a("span",[t._v(t._s(t.local.modelData.technician_name))])]),t._v(" "),a("div",[t._v("แปลง: "),a("span",[t._v(t._s(t.local.modelData.plan))])]),t._v(" "),a("div",[t._v("หมวดงาน: "),a("span",[t._v(t._s(t.local.modelData.work_group_name))])]),t._v(" "),a("div",[t._v("งวด: "),a("span",[t._v(t._s(t.local.modelData.time)+" / "+t._s(t.local.modelData.name))])]),t._v(" "),a("div",[t._v("หน่วย:\n        "),t.local.modelData.is_extra&&"3"===t.local.modelData.status?a("my-input",{attrs:{value:t.local.modelData.amount,validator:t.$validator,inputObj:{type:"text",name:"amount"+t.local.modelData.listIndex,placeholder:"",validate:"required"}},on:{input:function(e){return t.updateData(e,"amount",t.local.modelData.index,t.local.modelData.listIndex)}}}):a("span",[t._v(t._s(t.local.modelData.amount)+" "+t._s(t.local.modelData.unit))])],1),t._v(" "),a("div",[t._v("ราคาต่อหน่วย:\n        "),t.local.modelData.is_extra&&"3"===t.local.modelData.status?a("my-input",{attrs:{value:t.local.modelData.price,validator:t.$validator,inputObj:{type:"text",name:"price"+t.local.modelData.listIndex,placeholder:"",validate:"required"}},on:{input:function(e){return t.updateData(e,"price",t.local.modelData.index,t.local.modelData.listIndex)}}}):a("span",[t._v(t._s(t.NUMBERWITHCOMMAS(t.local.modelData.price,2)))])],1),t._v(" "),a("div",[t._v("จำนวนเงินรวม:\n        "),t.local.modelData.is_extra&&"3"===t.local.modelData.status?a("my-input",{attrs:{value:t.local.modelData.total_price,validator:t.$validator,inputObj:{type:"text",name:"total_price"+t.local.modelData.listIndex,placeholder:"",validate:"required"}},on:{input:function(e){return t.updateData(e,"total_price",t.local.modelData.index,t.local.modelData.listIndex)}}}):a("span",[t._v(t._s(t.NUMBERWITHCOMMAS(t.local.modelData.total_price,2)))])],1),t._v(" "),a("div",[t._v("\n        อัพเดทล่าสุด:\n        "+t._s(t.SET_DATEFORMAT(t.local.modelData.updated_at))+"\n      ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"update-status"},["3"===t.local.modelData.status?[a("my-action",{attrs:{type:"null",obj:{title:"จ่ายเงิน",color:"is-warning",isConfirm:!0}},on:{clickEvent:function(e){t.submit("approve",t.local.modelData,t.local.modelData.index,!0)}}}),t._v(" "),a("my-action",{attrs:{type:"null",obj:{title:"ไม่ผ่าน",color:"is-danger",isConfirm:!0}},on:{clickEvent:function(e){t.submit("reject",t.local.modelData,t.local.modelData.index,!0)}}})]:t._e(),t._v(" "),"4"===t.local.modelData.status||"5"===t.local.modelData.status?["4"===t.local.modelData.status?a("p",{staticClass:"tag is-danger"},[t._v("ไม่ผ่าน ( "+t._s(t.SET_DATEFORMAT(t.local.modelData.updated_at))+" )")]):t._e(),t._v(" "),"5"===t.local.modelData.status?a("p",{staticClass:"tag is-success"},[t._v("จ่ายแล้ว ( "+t._s(t.SET_DATEFORMAT(t.local.modelData.updated_at))+" )")]):t._e()]:t._e()],2)]):t._e()]),t._v(" "),a("worksheet-template",{ref:"worksheetTemplate",staticClass:"worksheet-template",attrs:{headerObj:t.local.worksheet.header,dataObj:t.local.worksheet.data}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{staticClass:"td order-8"},[t._v("ชื่อช่าง")]),t._v(" "),a("th",{staticClass:"td order-6"},[t._v("แปลง")]),t._v(" "),a("th",{staticClass:"td order-5"},[t._v("หมวดงาน")]),t._v(" "),a("th",{staticClass:"td order-4"},[t._v("งวด/รายการ")]),t._v(" "),a("th",{staticClass:"td order-3",attrs:{width:"50"}},[t._v("หน่วย")]),t._v(" "),a("th",{staticClass:"td order-2",attrs:{width:"100"}},[t._v("ราคาต่อหน่วย")]),t._v(" "),a("th",{staticClass:"td order-1",attrs:{width:"100"}},[t._v("จำนวนเงินรวม")]),t._v(" "),a("th",{staticClass:"td order-7",attrs:{width:""}},[t._v("อัพเดทล่าสุด")]),t._v(" "),a("th",{staticClass:"td order-7",attrs:{width:""}}),t._v(" "),a("th",{staticClass:"td order-9",attrs:{width:""}})])])}]};var m=a("VU/8")(h,x,!1,function(t){a("lR0C")},"data-v-997abc54",null);e.default=m.exports},lR0C:function(t,e){},wNh9:function(t,e){}});
//# sourceMappingURL=7.2cd223a5b0516ac3a133.js.map